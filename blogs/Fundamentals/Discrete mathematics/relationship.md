# 关系

### 性质
* 函数关系
* 集合关系
* 关系的性质：1.自反性。2.对称性。3.传递性。
* 关系的组合：并集、交集、差集。合成，

### n元关系
* 关系与数据库：数据库由**记录**构成。记录由**域**构成n元组。**主键**可以唯一标识一个记录。**复合主键**也可以用作唯一标识。
* n元关系的运算：映射关系，投影（减少属性），连接（增加属性）。
* SQL。

### 关系的表示
* 可以用0-1矩阵表示有穷集之间的关系。自反关系可以用主对角线为1的矩阵表示。对称和自反可以用矩阵关于主对角线对称的元素关系表示。矩阵元素的AND，OR可以用于计算关系的并集与交集。矩阵的布尔积可以计算关系的合成。
* 可以用有向图来表示关系。

### 关系的闭包
* 定义：如果存在包含R的具有性质P的关系S，并且S是所有包含R且具有性质P的关系的子集，那么S叫做R的关于性质P的闭包。换句话来说，S是满足性质P同时包含R的最小集。
* 传递闭包：等价于连通性关系`R*`，表示形如(a, b)的有序对，在关系R中存在一条长度至少为1的路径。换句话说，传递闭包是所有连通元素的总集合。
* 传递闭包的计算：Warshall算法

### 等价关系
* 定义：自反，对称和传递的关系称作等价关系。如果a和b由于等价关系而相关联，那么它们是等价的，记做a~b。
* 最常用的等价关系是模m同余。
* 等价类：集合A定义了等价关系R，与A中某元素a有关系的所有元素的集合叫做a的等价类，记做[a]R。

### 偏序
* 定义：如果关系是自反的，反对称的，传递的，就称为偏序。比如在整数上定义的`>=`关系。比如在正整数上定义的整除关系。
* 然而，偏序集中并不是所有元素均可比。比如整除中2和3。那么我们定义：如果两个元素满足偏序集的关系，那么两个元素是可比的。
* 如果偏序集中每对元素均可比，则称其为全序集，或者链。
* 如果全序集的每个非空子集都有一个最小元素，就称其为良序集。
* **良序归纳原理**：设S是个良序集。`y in S, x in S, (rA)x((rA)y(rA < y)x(P(x)->P(y))->P(x))
* 字典顺序：(a1, a2) < (b1, b2)当a1 < b1，或者a1 = b1，a2 < b2
* 哈塞图：在关系图中移除了环和由传递性出现的边。
* 极大元与极小元。上界和下界：A是S的子集，S中存在元素u使得对所有元素a属于A，u都大于a，那么我们称u为A的上界。类似定义下界。如果x是A的上界并且小于其他任何上界，则称其为最小上界。类似定义最大下界。记做glb(A)和lub(A)。
* 如果每对元素都有最小上界和最大下界，就称这个偏序集为格。
* 如果对于aRb都有a<=b，则称一个全序<=与偏序R是相容的。从一个偏序构造一个相容的全序称为**拓扑排序**。可以解决按顺序解决工作的问题。